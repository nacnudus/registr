<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Resolve links in registers — rr_resolve • registr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Resolve links in registers — rr_resolve" />

<meta property="og:description" content="Registers can link to each other either by a field with the "register"
property, or via CURIEs.  See rr_key_links() and rr_curie_links() for
more about that.  These functions resolve those links.
When a link is resolve, the whole record is returned in a data frame.  That's
because the link doesn't specify a particular field of a record.  For fields
with cardinality = "n", several records might be returned.  If the field is
also datatype = "curie", then a list of single-row data frames will be
returned, because each record could be from a different register with a
different set of fields.
Resolve a key field
Resolve a CURIE field
Resolve all links in a register, both key and CURIE" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">registr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Resolve links in registers</h1>
    
    <div class="hidden name"><code>rr_resolve.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Registers can link to each other either by a field with the <code>"register"</code>
property, or via CURIEs.  See <code><a href='rr_key.html'>rr_key_links()</a></code> and <code><a href='rr_curie.html'>rr_curie_links()</a></code> for
more about that.  These functions resolve those links.</p>
<p>When a link is resolve, the whole record is returned in a data frame.  That's
because the link doesn't specify a particular field of a record.  For fields
with <code>cardinality = "n"</code>, several records might be returned.  If the field is
also <code>datatype = "curie"</code>, then a list of single-row data frames will be
returned, because each record could be from a different register with a
different set of fields.</p>
<p>Resolve a key field</p>
<p>Resolve a CURIE field</p>
<p>Resolve all links in a register, both key and CURIE</p>
    
    </div>

    <pre class="usage"><span class='fu'>rr_resolve_key_field</span>(<span class='no'>field_name</span>, <span class='no'>register</span>, <span class='no'>registers</span>)

<span class='fu'>rr_resolve_curie_field</span>(<span class='no'>field_name</span>, <span class='no'>register</span>, <span class='kw'>registers</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>targets</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>rr_resolve_links</span>(<span class='no'>register</span>, <span class='no'>registers</span>, <span class='kw'>targets</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for register</span>
<span class='fu'>rr_resolve_links</span>(<span class='no'>register</span>, <span class='no'>registers</span>, <span class='kw'>targets</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>field_name</th>
      <td><p>Character, the name of a field to resolve.</p></td>
    </tr>
    <tr>
      <th>register</th>
      <td><p>An object of class <code>"register"</code>.</p></td>
    </tr>
    <tr>
      <th>registers</th>
      <td><p>A list of objects of class <code>"register"</code>.  Links will be
sought among these registers.</p></td>
    </tr>
    <tr>
      <th>targets</th>
      <td><p>An optional data frame of indexed register records.  This is
constructed internally to resolve CURIE fields, but is expensive, so you can
create your own as follows, and use it more than once.</p>
<p>targets &lt;-
registers <!-- %&gt;% -->
purrr::map(rr_snapshot) <!-- %&gt;% -->
purrr::map_dfr(rr_index)</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>registers</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rr_registers.html'>rr_registers</a></span>()

<span class='no'>targets</span> <span class='kw'>&lt;-</span>
  <span class='no'>registers</span> <span class='kw'>%&gt;%</span>
  <span class='kw pkg'>purrr</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/purrr/topics/map'>map</a></span>(<span class='no'>rr_snapshot</span>) <span class='kw'>%&gt;%</span>
  <span class='kw pkg'>purrr</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/purrr/topics/map'>map_dfr</a></span>(<span class='no'>rr_index</span>)

<span class='no'>sg</span> <span class='kw'>&lt;-</span> <span class='no'>registers</span>$<span class='no'>`statistical-geography`</span>
<span class='fu'><a href='rr_links.html'>rr_links</a></span>(<span class='no'>sg</span>)</div><div class='output co'>#&gt; # A tibble: 5 x 4
#&gt;   from                  to                      type  field       
#&gt;   &lt;chr&gt;                 &lt;chr&gt;                   &lt;chr&gt; &lt;chr&gt;       
#&gt; 1 statistical-geography register                key   register    
#&gt; 2 statistical-geography country                 curie area        
#&gt; 3 statistical-geography territory               curie area        
#&gt; 4 statistical-geography government-organisation curie organisation
#&gt; 5 statistical-geography local-authority-eng     curie organisation</div><div class='input'>
<span class='fu'>rr_resolve_key_field</span>(<span class='st'>"register"</span>, <span class='no'>sg</span>, <span class='no'>registers</span>)$<span class='no'>data</span></div><div class='output co'>#&gt; # A tibble: 175 x 12
#&gt;    `entry-number` type  key   timestamp           hash   `statistical-ge… name 
#&gt;             &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;
#&gt;  1             11 user  E92   2017-08-04 15:14:55 97d10… E92              Coun…
#&gt;  2             12 user  E00   2017-08-04 15:14:55 e57ac… E00              Outp…
#&gt;  3             13 user  E01   2017-08-04 15:14:55 e6602… E01              Supe…
#&gt;  4             14 user  E02   2017-08-04 15:14:55 8c1f8… E02              Supe…
#&gt;  5             15 user  E04   2017-08-04 15:14:55 3f07b… E04              Civi…
#&gt;  6             16 user  E05   2017-08-04 15:14:55 f2cb3… E05              Elec…
#&gt;  7             17 user  E06   2017-08-04 15:14:55 2c8db… E06              Unit…
#&gt;  8             18 user  E07   2017-08-04 15:14:55 6cd1d… E07              Non-…
#&gt;  9             19 user  E08   2017-08-04 15:14:55 e40dc… E08              Metr…
#&gt; 10             20 user  E09   2017-08-04 15:14:55 f4ff1… E09              Lond…
#&gt; # ... with 165 more rows, and 5 more variables: area &lt;list&gt;,
#&gt; #   organisation &lt;chr&gt;, register &lt;list&gt;, `start-date` &lt;chr&gt;, `end-date` &lt;chr&gt;</div><div class='input'><span class='fu'>rr_resolve_curie_field</span>(<span class='st'>"organisation"</span>, <span class='no'>sg</span>, <span class='no'>registers</span>)$<span class='no'>data</span></div><div class='output co'>#&gt; # A tibble: 175 x 12
#&gt;    `entry-number` type  key   timestamp           hash   `statistical-ge… name 
#&gt;             &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;
#&gt;  1             11 user  E92   2017-08-04 15:14:55 97d10… E92              Coun…
#&gt;  2             12 user  E00   2017-08-04 15:14:55 e57ac… E00              Outp…
#&gt;  3             13 user  E01   2017-08-04 15:14:55 e6602… E01              Supe…
#&gt;  4             14 user  E02   2017-08-04 15:14:55 8c1f8… E02              Supe…
#&gt;  5             15 user  E04   2017-08-04 15:14:55 3f07b… E04              Civi…
#&gt;  6             16 user  E05   2017-08-04 15:14:55 f2cb3… E05              Elec…
#&gt;  7             17 user  E06   2017-08-04 15:14:55 2c8db… E06              Unit…
#&gt;  8             18 user  E07   2017-08-04 15:14:55 6cd1d… E07              Non-…
#&gt;  9             19 user  E08   2017-08-04 15:14:55 e40dc… E08              Metr…
#&gt; 10             20 user  E09   2017-08-04 15:14:55 f4ff1… E09              Lond…
#&gt; # ... with 165 more rows, and 5 more variables: area &lt;list&gt;,
#&gt; #   organisation &lt;list&gt;, register &lt;chr&gt;, `start-date` &lt;chr&gt;, `end-date` &lt;chr&gt;</div><div class='input'><span class='fu'>rr_resolve_curie_field</span>(<span class='st'>"organisation"</span>, <span class='no'>sg</span>, <span class='kw'>targets</span> <span class='kw'>=</span> <span class='no'>targets</span>)$<span class='no'>data</span></div><div class='output co'>#&gt; # A tibble: 175 x 12
#&gt;    `entry-number` type  key   timestamp           hash   `statistical-ge… name 
#&gt;             &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;
#&gt;  1             11 user  E92   2017-08-04 15:14:55 97d10… E92              Coun…
#&gt;  2             12 user  E00   2017-08-04 15:14:55 e57ac… E00              Outp…
#&gt;  3             13 user  E01   2017-08-04 15:14:55 e6602… E01              Supe…
#&gt;  4             14 user  E02   2017-08-04 15:14:55 8c1f8… E02              Supe…
#&gt;  5             15 user  E04   2017-08-04 15:14:55 3f07b… E04              Civi…
#&gt;  6             16 user  E05   2017-08-04 15:14:55 f2cb3… E05              Elec…
#&gt;  7             17 user  E06   2017-08-04 15:14:55 2c8db… E06              Unit…
#&gt;  8             18 user  E07   2017-08-04 15:14:55 6cd1d… E07              Non-…
#&gt;  9             19 user  E08   2017-08-04 15:14:55 e40dc… E08              Metr…
#&gt; 10             20 user  E09   2017-08-04 15:14:55 f4ff1… E09              Lond…
#&gt; # ... with 165 more rows, and 5 more variables: area &lt;list&gt;,
#&gt; #   organisation &lt;list&gt;, register &lt;chr&gt;, `start-date` &lt;chr&gt;, `end-date` &lt;chr&gt;</div><div class='input'><span class='fu'>rr_resolve_links</span>(<span class='no'>sg</span>, <span class='no'>registers</span>)$<span class='no'>data</span></div><div class='output co'>#&gt; # A tibble: 175 x 12
#&gt;    `entry-number` type  key   timestamp           hash   `statistical-ge… name 
#&gt;             &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;
#&gt;  1             11 user  E92   2017-08-04 15:14:55 97d10… E92              Coun…
#&gt;  2             12 user  E00   2017-08-04 15:14:55 e57ac… E00              Outp…
#&gt;  3             13 user  E01   2017-08-04 15:14:55 e6602… E01              Supe…
#&gt;  4             14 user  E02   2017-08-04 15:14:55 8c1f8… E02              Supe…
#&gt;  5             15 user  E04   2017-08-04 15:14:55 3f07b… E04              Civi…
#&gt;  6             16 user  E05   2017-08-04 15:14:55 f2cb3… E05              Elec…
#&gt;  7             17 user  E06   2017-08-04 15:14:55 2c8db… E06              Unit…
#&gt;  8             18 user  E07   2017-08-04 15:14:55 6cd1d… E07              Non-…
#&gt;  9             19 user  E08   2017-08-04 15:14:55 e40dc… E08              Metr…
#&gt; 10             20 user  E09   2017-08-04 15:14:55 f4ff1… E09              Lond…
#&gt; # ... with 165 more rows, and 5 more variables: area &lt;list&gt;,
#&gt; #   organisation &lt;list&gt;, register &lt;list&gt;, `start-date` &lt;chr&gt;, `end-date` &lt;chr&gt;</div><div class='input'><span class='fu'>rr_resolve_links</span>(<span class='no'>sg</span>, <span class='no'>registers</span>, <span class='kw'>targets</span> <span class='kw'>=</span> <span class='no'>targets</span>)$<span class='no'>data</span></div><div class='output co'>#&gt; # A tibble: 175 x 12
#&gt;    `entry-number` type  key   timestamp           hash   `statistical-ge… name 
#&gt;             &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;
#&gt;  1             11 user  E92   2017-08-04 15:14:55 97d10… E92              Coun…
#&gt;  2             12 user  E00   2017-08-04 15:14:55 e57ac… E00              Outp…
#&gt;  3             13 user  E01   2017-08-04 15:14:55 e6602… E01              Supe…
#&gt;  4             14 user  E02   2017-08-04 15:14:55 8c1f8… E02              Supe…
#&gt;  5             15 user  E04   2017-08-04 15:14:55 3f07b… E04              Civi…
#&gt;  6             16 user  E05   2017-08-04 15:14:55 f2cb3… E05              Elec…
#&gt;  7             17 user  E06   2017-08-04 15:14:55 2c8db… E06              Unit…
#&gt;  8             18 user  E07   2017-08-04 15:14:55 6cd1d… E07              Non-…
#&gt;  9             19 user  E08   2017-08-04 15:14:55 e40dc… E08              Metr…
#&gt; 10             20 user  E09   2017-08-04 15:14:55 f4ff1… E09              Lond…
#&gt; # ... with 165 more rows, and 5 more variables: area &lt;list&gt;,
#&gt; #   organisation &lt;list&gt;, register &lt;list&gt;, `start-date` &lt;chr&gt;, `end-date` &lt;chr&gt;</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Duncan Garmonsway.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

